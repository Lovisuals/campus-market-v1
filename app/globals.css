@import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* =========================================
   1. GLOBAL VARIABLES & THEME
   ========================================= */
:root {
  /* Brand Colors */
  --wa-teal: #008069;
  --wa-light: #25D366;
  --wa-dark: #075E54;
  --wa-neon: #25D366;
  
  /* Surface & Text */
  --wa-surface: #ffffff;
  --wa-chat-bg: #ffffff;
  --wa-muted: #8696a0;
  --text-primary: #111b21;
  --border: rgba(0, 0, 0, 0.08);
  --surface: #f0f2f5; 

  /* Glass Effects */
  --glass-bg: rgba(255, 255, 255, 0.95);
  --glass-border: rgba(255, 255, 255, 0.8);
  --neo-shadow: 0 10px 30px -10px rgba(0, 128, 105, 0.3);
  --shadow-3d: 0 10px 25px -5px rgba(0,0,0,0.05), 0 8px 10px -6px rgba(0,0,0,0.05);
  --ticker-height: 34px;
}

/* Dark Mode Overrides */
.dark-mode {
  --wa-teal: #25D366;
  --wa-dark: #111b21;
  --wa-chat-bg: #0b141a;
  --wa-surface: #1f2c34;
  --wa-muted: #8696a0;
  --text-primary: #e9edef;
  --border: rgba(255, 255, 255, 0.1);
  --glass-bg: rgba(31, 44, 52, 0.95);
  --glass-border: rgba(255, 255, 255, 0.1);
  --shadow-3d: 0 20px 25px -5px rgba(0,0,0,0.3);
  --surface: #111b21;
}

/* =========================================
   2. APP FEEL & BEHAVIOR (CRITICAL FIXES)
   ========================================= */

/* Prevent Double-Tap Zoom on Mobile */
html {
  touch-action: manipulation;
}

/* Base Body Styles */
body {
  background-color: var(--wa-chat-bg);
  font-family: 'Plus Jakarta Sans', 'Inter', sans-serif;
  color: var(--text-primary);
  transition: background-color 0.4s ease, color 0.4s ease;
  -webkit-tap-highlight-color: transparent; /* Remove blue highlight on tap */
}

/* Prevent Text Selection (For Logo Long-Press) */
.noselect {
  -webkit-touch-callout: none; /* iOS Safari */
  -webkit-user-select: none; /* Safari */
  -khtml-user-select: none; /* Konqueror HTML */
  -moz-user-select: none; /* Old Firefox */
  -ms-user-select: none; /* Internet Explorer/Edge */
  user-select: none;
}

/* Prevent Input Zoom on iOS (Forces 16px) */
.wa-input {
  font-size: 16px !important; 
  background: var(--surface);
  border-radius: 20px;
  padding: 14px 16px;
  border: 1px solid transparent;
  transition: all 0.2s ease;
  width: 100%;
  color: var(--text-primary);
  outline: none;
}

.wa-input:focus {
  border-color: var(--wa-teal);
  box-shadow: 0 0 0 3px rgba(0,128,105,0.1);
}

/* =========================================
   3. COMPONENT STYLES
   ========================================= */

/* Ticker Animation */
.ticker-container {
  overflow: hidden;
  height: var(--ticker-height);
  background: #000;
  display: flex;
  align-items: center;
  position: relative;
  z-index: 60;
}

.ticker-content {
  display: inline-block;
  animation: scroll-left 20s linear infinite;
  white-space: nowrap;
  padding-left: 100%;
}

@keyframes scroll-left {
  0% { transform: translateX(0); }
  100% { transform: translateX(-100%); }
}

/* Search Bar */
.search-container {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 14px;
  padding: 0 16px;
  display: flex;
  align-items: center;
  transition: all 0.3s ease;
}

.search-container:focus-within {
  border-color: var(--wa-teal);
  box-shadow: 0 0 0 3px rgba(0, 128, 105, 0.1);
}

/* Feed Grid */
#feed {
  display: grid;
  gap: 1.25rem;
  padding: 1rem;
  grid-template-columns: repeat(2, minmax(0, 1fr));
}

@media (min-width: 768px) {
  #feed { grid-template-columns: repeat(4, minmax(0, 1fr)); }
}

/* Product Card */
.product-card {
  background: var(--wa-surface);
  border-radius: 28px;
  overflow: hidden;
  border: 1px solid var(--border);
  box-shadow: var(--shadow-3d);
  transition: transform 0.3s ease;
  display: flex;
  flex-direction: column;
}

.product-card:active { transform: scale(0.98); }

/* Floating Action Button (FAB) */
.fab {
  width: 64px;
  height: 64px;
  border-radius: 22px;
  background: var(--wa-teal);
  box-shadow: var(--neo-shadow);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 32px;
  color: white;
  font-weight: 300;
  transition: all 0.3s ease;
}

.fab:active { transform: scale(0.9); }

/* Modals & Glass */
.glass-3d {
  background: var(--glass-bg);
  border: 1px solid var(--glass-border);
  border-radius: 32px;
  box-shadow: var(--shadow-3d);
  backdrop-filter: blur(12px);
}

/* Animations */
.animate-slide-up {
  animation: slideUp 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards;
}

@keyframes slideUp {
  from { transform: translateY(100%); opacity: 0; }
  to { transform: translateY(0); opacity: 1; }
}

.animate-fade-in {
  animation: fadeIn 0.3s ease-out forwards;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

/* Utilities */
.tap:active { transform: scale(0.95); }

.scrollbar-hide::-webkit-scrollbar { display: none; }
.scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }

/* Safe Area (iPhone Notch) */
.pt-safe {
  padding-top: env(safe-area-inset-top);
}
